[← 英語の README へ](../README.md)

# Mapping the Prompt（日本語原文）

**Mapping the Prompt (MTP)** は、生成 AI（LLM）との会話状態を座標として可視化し、意図のすり合わせとプロンプト調整を行うための **軽量・汎用フレームワーク** です。  
SVG/CSS/JS で実装可能な最小構成を想定し、対話を「座標空間」として扱うことで、テキストによる細かな指示を **UI 操作（点＋平均値）** に置き換えます。  
詳細は 「[コンセプト（日本語原文）](./CONCEPT.md)」 と 「[公式サイト（日本語）](https://imkohenauser.com/mtp-ja)」 をご覧ください。

![Screenshot of MTP](/assets/svg/screenshot-ja.svg)

> 🌐 This document is the original (Japanese). The [ [English](../README.md) ] version is a translation.

**特徴（Features）**

- 🤝 **生成 AI とユーザーの共通認識としてのフレームワーク**

  - MTP は新しい NLP アルゴリズムではなく、利用者と生成 AI が共有できる **軽量な座標フレームワーク**。
  - 抽象的・感覚的な意図を、テキスト入力ではなく **座標指定** で直感的に表現できます。

- ☯️ **20 ノード分類（レコードやカセットテープのような A/B 面）**

  - A 面：Start、Open、Power、Return、Grow、Helix、Focus、Enter、Flow、Close。
  - B 面：Still、Void、Surge、Wither、Collapse、Haze、Drift、Abyss、Fade、End。

- 🚀 **モデル非依存かつ適応的**

  - 大規模再学習ではなく、追加のマッピング学習やプロンプトチューニング、微調整程度で導入可能。
  - OpenAI / Anthropic / DeepMind / xAI など、主要 LLM に適用可能。
  - 各モデルの **理念・安全性ポリシー** に合わせてマッピングを調整できます。

- 🫧 **軽量 UI 層の位置付け**

  - 入力フォームの近くに配置：チャットボックスの横に「座標指定 UI」の表示ボタンを置く。
  - マルチモーダルの一部として生成：生成 AI が操作可能な「座標指定 UI」を生成し、ユーザーが調整。

> [!WARNING]
> プロジェクトは初期段階（アルファ）です。  
> 主要な生成 AI モデルで使える共通 UI を目指し、協力者・フィードバックを歓迎します。

---

## はじめに

生成 AI の利用者は、次のような多様な意図を日常的に求めています。

- プロンプト設計で細かくトーンコンテキストを指定する
- 創造的な物語や詩・自由な発想を促す文章
- 結論が明確で、説得力のある要約やビジネス文書
- 斬新なアイデアを力強く提案するコピー
- 複雑な情報を、スムーズで理解しやすい形で説明する文章

しかし、これらを毎回テキストで正確に指示するのは手間で、曖昧さや解釈のズレが生じがちです。  
**MTP** は、抽象的・感覚的な意図を **座標** で指定できる UI を提供し、従来の試行錯誤を **視覚的に一瞬で** 行えるようにします（例：拡散 ⇄ 収束、力強さ ⇄ 流れ などの軸）。

---

## コンセプト（概要）

### 分類の概念 — 20 ノード構造

MTP は、カセットテープのような A/B 面、それぞれ 10、合計 20 ノードの「分類」から設計されています。

- MTP のユニークな特徴の一つとして、UI のハンドルである「Gizmo」を独立ノード（Start / End）として設定しています。
- **A 面** は明快・前進の性質、**B 面** はその**深みや裏側、補助側面**を担います。
- ネガティブな意味で B 面を使うのではなく、感覚やニュアンスの拡張として利用します。

![20 ノード構造](/assets/svg/readme-20-node-structure.svg)

> [!NOTE]
> コンセプトの詳細（20 ノードの定義）は、レポジトリ内の **「CONCEPT」** や **「公式サイト」** の解説ページをご覧ください。
>
> - 「コンセプト（日本語原文）」： [ja/CONCEPT.md](./CONCEPT.md)
> - 「公式サイト（日本語原文）」： https://imkohenauser.com/mtp-ja

---

<details>
<summary>「20 ノード構造の対応表」を見る</summary>

#### 🌅 A 面 10 ノード「 1 + 9 ( 3×3 ) 」

| #   | ノードラベル | 漢字表記 | 色       | 役割         | キーワード           |
| --- | ------------ | -------- | -------- | ------------ | -------------------- |
| 1   | **Start**    | 始       | 選択色   | Gizmo        | イントロ・春・始動   |
| 2   | **Open**     | 開       | 黄       | 左上のノード | 開く・開放・提供する |
| 3   | **Power**    | 力       | 赤       | 上のノード   | 推力・火・高揚       |
| 4   | **Return**   | 還       | マゼンダ | 右上のノード | 回帰・返還・収益     |
| 5   | **Grow**     | 生       | 緑       | 左のノード   | 成長・増殖・積層     |
| 6   | **Helix**    | 螺       | 透明     | 中央のノード | 螺旋・中心・中立     |
| 7   | **Focus**    | 集       | 白       | 右のノード   | 焦点・集中・白紙     |
| 8   | **Enter**    | 入       | シアン   | 左下ノード   | 入場・到着・浮かぶ   |
| 9   | **Flow**     | 流       | 青       | 下のノード   | 1/f ゆらぎ・水・連鎖 |
| 10  | **Close**    | 閉       | 紫       | 右下のノード | 余白・間近・小結     |

#### 🌌 B 面 10 ノード「 9 ( 3×3 ) + 1 」

| #   | ノードラベル | 漢字表記 | 色           | 役割              | キーワード         |
| --- | ------------ | -------- | ------------ | ----------------- | ------------------ |
| 11  | **Still**    | 静       | 暗い黄       | 左上のノード      | 静止・孤独・平穏   |
| 12  | **Void**     | 虚       | 暗い赤       | 上のノード        | 虚無・空白・大空   |
| 13  | **Surge**    | 詰       | 暗いマゼンダ | 右上のノード      | 爆発・波頭・雷     |
| 14  | **Wither**   | 枯       | 暗い緑       | 左のノード        | 萎む・弱る・落葉   |
| 15  | **Collapse** | 崩       | 半透明       | 中央のノード      | 崩落・崩壊・転落   |
| 16  | **Haze**     | 霞       | グレー       | 右のノード        | 霞み・惚け・淡い   |
| 17  | **Drift**    | 漂       | 暗いシアン   | 左下ノード        | 漂流・遊離・浮遊   |
| 18  | **Abyss**    | 深       | 暗い青       | 下のノード        | 深海・深紅・重低   |
| 19  | **Fade**     | 衰       | 暗い紫       | 右下のノード      | 消える・減衰・薄明 |
| 20  | **End**      | 終       | 選択色       | Transformed Gizmo | 終・祈り・ブレーキ |

</details>

---

### UI 操作 — 座標でスタイルを指定

分類を前提に、UI 上では **座標指定** で挙動を調整します。

- **Vertex**: プロンプトの特徴／分類されたアンカー（特徴を表す点）。
- **Gizmo**: 複数の Vertex の**平均座標**。セッションの重心を示す UI の操作ハンドル。
- **Transformed Gizmo**: ユーザーが指定／希望する**目標座標**。出力トーン／挙動を直接制御します。

![座標でスタイルを指定](/assets/svg/readme-ui-operation.svg)

### グリッドと抽象化

内部は碁盤のような格子（例：19×19）で厳密に保持しつつ、UI では **色相環や簡略配色** へ抽象化可能。  
デバイスや表示領域に応じて、格子／グリッド構成を切り替えられます。

![グリッドと抽象化](/assets/svg/readme-grid-and-abstraction.svg)

### セッション状態の可視化

ユーザーと生成 AI のセッション（履歴・位相）を **座標の遷移** として可視化します。  
セッションのドリフト（意図からのズレ）を目視で捉え、過去の「良かった状態」に戻る・近づける操作が可能です。

![セッション状態の可視化](/assets/svg/readme-visualization-of-session-state.svg)

---

## 使いどころ（例）

簡潔でフォーマルな応答、過度な丁寧さ、親しみやすさの調整など、モデルの設計・制限の中で、特にクリエイティブな用途や長編の対話を強化できます。

### Tone Context（文章スタイル）の即時切り替え

生成される文章の**態度・感情・語調**を制御する軸です。

- 例：聞き上手／無機質／情熱的／冷静などの傾向を、**色合い**や**座標方向**として制御可能。
- ユーザーは「丁寧だけどドライ」「親しみやすく情熱的」など、**トーンの重ね合わせ**も可能です。

#### スタイルの切り替えを直感的に

- _Open × Grow_: 発想支援・ブレスト初期・自由な広がり（創作や詩的導入）
- _Power × Void_: 強めの訴求（マーケティングコピー）
- _Return × Focus_: 要約、エグゼクティブサマリー、提案骨子

![文章スタイルの即時切替](/assets/svg/readme-persona-and-response-style.svg)

### ChatGPT のペルソナの可視化

_Cynic_、_Listener_、_Robot_、_Nerd_ のような簡易ペルソナ型の会話スタイルを分類・調整し、ドリフト制御を可能にします。

![ペルソナの可視化](/assets/svg/readme-chatgpts-persona.svg)

### Reasoning Level（推論の深さ・粒度）

出力における**思考のコストと構造**を制御します。

- 中心：即答・低コスト・要点のみ。
- （外側の座標ほど）多段の根拠、比較、反証、意図の明示など **構造化** された応答。

<details>
<summary>ノード例と対応傾向</summary>

| ノード    | 推論傾向           |
| --------- | ------------------ |
| **Power** | 積極的な推論       |
| **Flow**  | 消極的・簡潔       |
| **Grow**  | 発散的・幅広い検討 |
| **Focus** | 集中的・狭く深掘り |

</details>

### Multi-Step Reasoning（思考プロセスの可視化）

推論が段階的に進む構造（Chain-of-Thought）を、**座標と色**で可視化・操作可能にします。

- LLM の「内部ステップ（プロンプト内の思考遷移）」を、色の軌跡や推論フェーズとして視覚化。
- プロンプト内のキーワードの特徴や重心を Vertex（座標／色）として把握。
- ユーザーは、過去ステップ（Vertex）に触れることで、**方針の修正**が可能。

これにより、AI の応答がどのような推論プロセスを経て構成されたかが「見える化」され、非逐語的な指示伝達（＝ UI での指示）を通じて、**不透明な応答生成をデバッグ可能なプロセス**として扱えるようになります。

### Branching Conversations（新しいチャットに分岐）

ChatGPT の新機能 _Branching Conversations_ と MTP を組み合わせると、会話の分岐をより直感的に扱うことができます。

MTP は、各チャットの流れ（トーンやニュアンス）を 20 ノードでマッピングし、平均的な色を算出できます。これをラベル色のように可視化することで、チャットリスト上で：

- main chat（trunk） と各ブランチの関連性を色で直感的に把握できる
- 会話のトーンの違い（論理的／感情的、拡散／収束など）が視覚的に比較できる
- 分岐ごとに「どんな方向性の思考か」を、視覚的に整理できる

この仕組みは、非線形的な探索やブレインストーミングにおいて、単なるテキストリスト以上の理解をもたらします。

---

## 実装の方針（最小構成）

- **描画**: SVG を基本とし、CSS で配色、JS でイベント（ドラッグ、クリック、ホバー）を扱う。
- **座標と状態**: Vertex（分類点）、Gizmo（セッション重心）、Transformed Gizmo（目標）を最小単位に。
- **外部連携**: 生成 AI API へのプロンプト／パラメータ変換は疎結合（アダプタ）で実装。
- **縮退運転**: 画像や配色だけの **スタンドアロン UI** としても成立（学習・デモ目的）。

---

## おわりに — 意図ともっともらしさのあいだに

生成 AI との対話で「もっともらしい」応答を得ることは、技術の進展によって飛躍的に容易になりました。  
しかしそこに、**「自分らしさ」や「感覚的なニュアンス」**を反映させることは、依然として難しい課題のままです。

長文のプロンプトによる指示は、時に曖昧さを生み、微細な意図が失われがちです。  
**Mapping the Prompt（MTP）** は、このすれ違いを解消するための新しいアプローチです。

AI を再学習させるのではなく、**ユーザーの感覚的な地図を AI が理解できる「座標」へ変換する**ことで、試行錯誤を直感的な操作へと置き換えました。  
「もっと情熱的に」「もう少し静かに」といった曖昧な要求は、座標空間の一方向として表現され、**「視覚的に共有されたインターフェース」**が対話の質を高めます。

MTP は、AI と人間の対話に「意図の共有」というレイヤーを追加します。  
これは単なる UI ではなく、**対話の文化や思考様式に対する新しい提案**であり、今後あらゆる生成 AI モデルに共通する**未来の標準インターフェース**となることを目指しています。

---

## 貢献・フィードバック

MTP はまず **注目とフィードバック** が力になります。気軽にご参加ください。

- ⭐ GitHub で Star
- 🏴 X（[@imkohenauser](https://x.com/imkohenauser)）での拡散・コメント
- 💬 OpenAI Developer Forum トピックへの参加
- 🛠 Issue / PR での提案（UI、用語、翻訳、ユースケースの追加 など）

---

## ライセンス

Copyright © 2025 **Kohen**

本プロジェクトは [MIT License](../LICENSE) のもとで公開されています。

---

[**「コンセプト（日本語原文）」** へ →](./CONCEPT.md)

↳ [「プレイリスト」（英語）（オプション）](../PLAYLIST.md)  
↳ [「アセット」（英語）（オプション）](../ASSETS.md)
